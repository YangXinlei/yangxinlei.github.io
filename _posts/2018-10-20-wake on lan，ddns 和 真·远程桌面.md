---
layout: post
title:  "wake on lan，ddns 和 真·远程桌面"
date:   2018-10-20 23:51:22 +0800
categories: develop
---

今天折腾出来一个很好玩的事情，分享一下
现在，我可以自由的*开关*我的电脑，随时在不同设备上访问和使用，实在方便。

~按照先例~，先列大纲，慢慢填

## 涉及内容

* BIOS设置和网卡驱动
* DDNS
* 服务器和Node.js
* 微软远程桌面

（太长不看：简要步骤 1.BIOS允许网卡启动；2.网卡驱动设置允许wake on lan; 3.设法监听路由器动态IP；4.使用休眠替代关机；5.发送魔包唤醒PC，远程连接）

### 打开开关

BIOS的UI终于从“DOS”进化到了“Vista”,我现在使用的主板是一款微星的B250主板，当初第一次点亮的时候是颇为吃惊的。关于BIOS的设置其实只有一处，就是在主板的启动选项里设置允许网卡启动。但是有几点需要说明一下：
1. 系统挂起有S1~S5五种，其中S3（挂起到内存），S4（挂起到硬盘），和S5（关闭所有设备）分别对应windows的睡眠、休眠和关机。更高的状态拥有更低的功耗，而唤醒的难度则更大，事实上，我现在只做到了在休眠模式下唤醒PC，不过这对我来说是足够好的。
2. 在BIOS里，有一项网卡相关的设置，其中会有一个 wake on Lan 的选项，不过，对于我的Intel i219-v 此项没提供除[N/A]以外的选项。
3. 显然，远程唤醒意味着网卡需要始终处于供电状态并接收数据包，也就意味着，网卡的指示灯和路由器对应的LAN口的指示灯是常亮的。
4. 除了设置BIOS选项以为，更为重要的，是在系统的网卡驱动选项中开启远程唤醒功能，但是想要此功能完美生效，一定要确保安装了最新的显卡驱动。需要注意的是，windows自动安装的网卡驱动可能不是最新的，使用某些驱动管理软件更新的网卡驱动也可能不是最新的。直接去Intel官网下载最新的驱动，可以帮你节省不少力气。
 
5.另外，注意要关闭windows的快速启动。
6.以及，避免网卡自动唤醒windows。

### 唤醒PC

一种称为“魔包”的特殊数据包被发送到网卡，作为唤醒PC的指令。我们不需要关心魔包的具体内容，只需要配置好正确的mac地址、ip和端口号，魔包可以由代码自动生成。



## DDNS

### 是啥

### 折腾邮件订阅ip

### 唤醒

## 远程桌面

### 踩坑

### 但是结果很酷


